<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Page's title -->
  <title>PreviewReading</title>

  <!-- Link to manifest and css file -->
  <link rel = "manifest" href = "manifest.json">
  <link rel = "stylesheet" type = "text/css" href = "css/style.css">
  <link rel = "stylesheet" href = "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">

  <!-- Character encode -->
  <meta charset="UTF-8">

  <!-- Meta tag for PWA -->
  <meta name = "viewport"    content = "width = device-width, initial-scale = 1.0">
  <meta name = "theme-color" content = "white">
  <meta name = "description" content = "PreviewReading">

  <!--Specific meta tag for IOS -->
  <link rel="apple-touch-icon" href="images/logo.webp">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="PreviewReading">

  <!-- Specific meta tag for OS Windows -->
  <meta name="application-name" content="PreviewReading">
  <meta name="msapplication-TileImage" content="images/144x144.png">
  <meta name="msapplication-TileColor" content="#cc194b">
</head>
<body>

<div id="overlay"></div>
<div id="hide_avatar">
  <div class="avatar_container">
    <div class="six_container">
      <img class="avatar" src="images/avatar/1.png" onclick="changeAvatarIndex(1)" alt="1">
      <img class="avatar" src="images/avatar/2.png" onclick="changeAvatarIndex(2)" alt="2">
      <img class="avatar" src="images/avatar/3.png" onclick="changeAvatarIndex(3)" alt="3">
      <img class="avatar" src="images/avatar/4.png" onclick="changeAvatarIndex(4)" alt="4">
      <img class="avatar" src="images/avatar/5.png" onclick="changeAvatarIndex(5)" alt="5">
      <img class="avatar" src="images/avatar/6.png" onclick="changeAvatarIndex(6)" alt="6">
    </div>
    <div class="six_container">
      <img class="avatar" src="images/avatar/7.png" onclick="changeAvatarIndex(7)" alt="7">
      <img class="avatar" src="images/avatar/8.png" onclick="changeAvatarIndex(8)" alt="8">
      <img class="avatar" src="images/avatar/9.png" onclick="changeAvatarIndex(9)" alt="9">
      <img class="avatar" src="images/avatar/10.png" onclick="changeAvatarIndex(10)" alt="10">
      <img class="avatar" src="images/avatar/11.png" onclick="changeAvatarIndex(11)" alt="11">
      <img class="avatar" src="images/avatar/12.png" onclick="changeAvatarIndex(12)" alt="12">
    </div>
    <div class="six_container">
      <img class="avatar" src="images/avatar/13.png" onclick="changeAvatarIndex(13)" alt="13">
      <img class="avatar" src="images/avatar/14.png" onclick="changeAvatarIndex(14)" alt="14">
      <img class="avatar" src="images/avatar/15.png" onclick="changeAvatarIndex(15)" alt="15">
      <img class="avatar" src="images/avatar/16.png" onclick="changeAvatarIndex(16)" alt="16">
      <img class="avatar" src="images/avatar/17.png" onclick="changeAvatarIndex(17)" alt="17">
      <img class="avatar" src="images/avatar/18.png" onclick="changeAvatarIndex(18)" alt="18">
    </div>
  </div>
  <input class="btn" type="submit" onclick="changeAvatar()" value ="Cambia avatar">
</div>

<div id="hide_name">
  <form class="change_form" id="name_form" method="post">
    <div class="user_label">
      <label for="change_name"><input type="text" class="account" id="change_name" name="name" placeholder="Nuovo nome"></label>
      <input class="btn" type="submit" onclick="changeName()" value = "Cambia nome">
    </div>
    <a class="user_error change_error"></a>
  </form>
</div>

<div class="change_form" id="hide_surname">
  <form id="surname_form" method="post">
    <div class="user_label">
      <label for="change_surname"><input type="text" class="account" id="change_surname" name="surname" placeholder="Nuovo cognome"></label>
      <input class="btn" type="submit" onclick="changeSurname()" value = "Cambia cognome">
    </div>
    <a class="user_error change_error"></a>
  </form>
</div>

<div id="hide_username">
  <form class="change_form" id="username_form" method="post">
    <div class="user_label">
      <label for="change_username"><input type="text" class="account" id="change_username" name="username" placeholder="Nuovo username"></label>
      <input class="btn" type="submit" onclick="changeUsername()" value = "Cambia username">
    </div>
    <a class="user_error change_error"></a>
  </form>
</div>

<div id="hide_password">
  <form class="change_form" id="password_form" method="post">
    <div class="user_label">
      <div>
        <label for="current_passw"><input class="account" id="current_passw" name="password" required placeholder="Password attuale"></label>
      </div>
      <div class="password">
        <label for="new_passw"><input type="password" class="account lable_passw" id="new_passw" name="password" required placeholder="Nuova password"></label>
        <button class="showhide_passw" type="button" onclick="newTogglePasswordVisibility()"><img src="images/Button%20icons/eye-regular.svg" alt="search_button" loading="lazy"></button>
      </div>
      <div class="password">
        <label for="confnew_passw"><input type="password" class="account lable_passw" id="confnew_passw" name="confirmPassword" required placeholder="Conferma nuova password"></label>
        <button class="showhide_passw" type="button" onclick="confNewTogglePasswordVisibility()"><img src="images/Button%20icons/eye-regular.svg" alt="search_button" loading="lazy"></button>
      </div>
    </div>
    <input class="btn" type="submit" onclick="changePassword()" value = "Cambia password">
    <a class="user_error change_error"></a>
  </form>
</div>

<!-- Navbar --->
<nav class="navbar">
  <input type = "button" value="Home"    id="nav_home" onclick="window.location.href='index.html'">
  <input type = "button" value="Negozio" id="nav_shop" onclick="window.location.href='shop.html'">
</nav>
<!-- Navbar -->

<div id="account_elements">
  <!-- User -->
  <div id="user_data">
    <div id="container_acc_avatar">
      <img id="acc_avatar" src="" alt="avatar">
      <button id="edit_avatar"><i class="fa-solid fa-pencil"></i></button>
    </div>

    <div id="datauser_container">
      <div class="data_insert">
        <h1 class="data_form" id="acc_user"></h1>
      </div>
      <div class="data_insert">
        <p class="data_form">Nome:</p>
        <p class="data_form" id="acc_name"></p>
      </div>
      <div class="data_insert">
        <p class="data_form">Cognome:</p>
        <p class="data_form" id="acc_surn"></p>
      </div>
      <div id="account_manage">
        <input type = "submit" value="Logout" class="logout_btn" onclick="logout()">
        <div class="dropdown">
          <!-- Button that triggers the dropdown -->
          <button class="drop_btn"><i class="fa-solid fa-angle-down"></i></button>
          <div class="dropdown_content">
            <div id="dropdown_continer">
              <button id="edit_name"     class="change_btn">Nome</button>
              <button id="edit_surname"  class="change_btn">Cognome</button>
              <button id="edit_username" class="change_btn">Username</button>
              <button id="edit_password" class="change_btn">Password</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- User -->

  <!-- Cart -->
  <div class="style_cart">
    <div class="acc_container" id = "cart_container">
      <div id ="cart_list"></div>
    </div>
    <div class="price_clear_cart">
      <button id="cart_clear" ></button>
      <p id="book_spacer1"></p>
      <p id="cart_price" ></p>
    </div>
  </div>
  <!-- Cart -->

  <!-- Reviews Chronology -->
  <div class="style_cart">
    <div class="acc_container" id="user_reviews">
      <div id="reviews_cronology"></div>
    </div>
    <div class="price_clear_cart">
      <p id="no_reviews"></p>
    </div>
  </div>
</div>
<!-- Reviews Chronology -->

<div class="footer">
  <div id="container_creators">
    <div class="creators" id="domenico">
      <a href="https://www.instagram.com/domenicorissooo__/"><img class="img_creator" src="images/domenico.webp" alt="domenico" loading="lazy"></a>
      <p class="nome_creator">Domenico Risso</p>
      <p class="matr_creator">domenico.risso001 | 2542</p>
    </div>
    <div class="creators" id="vincenzo">
      <a href="https://www.instagram.com/figliolinoenzo/"><img class="img_creator" src="images/vincenzo.webp" alt="vincenzo" loading="lazy"></a>
      <p class="nome_creator">Vincenzo Figliolino</p>
      <p class="matr_creator">vincenzo.figliolino001 | 2541</p>
    </div>
    <div class="creators" id="gaetano">
      <a href="https://www.instagram.com/gaetano_romeo22/"><img class="img_creator" src="images/gaetano.webp" alt="gaetano" loading="lazy"></a>
      <p class="nome_creator">Gaetano Romeo</p>
      <p class="matr_creator">gaetano.romeo001 | 2667</p>
    </div>
  </div>
  <div id="linietta_footer"></div>
  <p id="footer_explain">Copyright®2023 Progetto TechWeb anno accademico 2023/2024 università degli studi di Napoli Parthenope, prof. Raffaele Montella. Autori: Domenico Risso matricola 0124002542; Vincenzo Figliolino matricola 0124002541; Gaetano Romeo matricola 0124002667. </p>
  <img id="logo_footer" src="images/booksnap_white.webp" alt = "logo" width="150px">
</div>

<!-- JavaScript Client Side -->
<script>
  window.addEventListener('load', function()
  {
    checkLogged();
    getInfo();
    showUserReviews();
    showCart();

    document.getElementById('edit_avatar').addEventListener('click', function() {

      document.getElementById('overlay').style.display = 'block';
      document.getElementById('hide_avatar').style.display = 'block';
      document.body.style.overflow = 'hidden';
    });

    document.getElementById('edit_name').addEventListener('click', function() {

      document.getElementById('overlay').style.display = 'block';
      document.getElementById('hide_name').style.display = 'block';
      document.body.style.overflow = 'hidden';
    });

    document.getElementById('edit_surname').addEventListener('click', function() {

      document.getElementById('overlay').style.display = 'block';
      document.getElementById('hide_surname').style.display = 'block';
      document.body.style.overflow = 'hidden';
    });

    document.getElementById('edit_username').addEventListener('click', function() {

      document.getElementById('overlay').style.display = 'block';
      document.getElementById('hide_username').style.display = 'block';
      document.body.style.overflow = 'hidden';
    });

    document.getElementById('edit_password').addEventListener('click', function() {

      document.getElementById('overlay').style.display = 'block';
      document.getElementById('hide_password').style.display = 'block';
      document.body.style.overflow = 'hidden';
    });

    document.getElementById('overlay').addEventListener('click', function() {

      document.getElementById('overlay').style.display       = 'none';
      document.getElementById('hide_avatar').style.display   = 'none';
      document.getElementById('hide_name').style.display     = 'none';
      document.getElementById('hide_surname').style.display  = 'none';
      document.getElementById('hide_username').style.display = 'none';
      document.getElementById('hide_password').style.display = 'none';
      document.body.style.overflow = 'auto';
    });

  });
</script>
<!-- JavaScript Client Side -->

<script src="js/jquery.min.js"></script>
<script src="js/server.js"></script>
<script src="js/main.js"></script>
</body>
</html>